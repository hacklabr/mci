section#list-event
	header.list-header.main-header.clearfix
		h1 Eventos
		nav
			.filter-list
				a.clear-filter(href="javascript:void(0)" ng-click="eventSearch.terms = ''" title="Limpar filtro por linguagem" ng-show="eventSearch.terms") &#10060;
				ul.linguagem-list
					li.label(ng-hide="eventSearch.terms" ng-class="{active:!eventSearch.terms}") Selecione por linguagem
					li(ng-repeat="linguagem in linguagens" ng-class="{active:linguagem==eventSearch.terms,inactive:linguagem!=eventSearch.terms}")
						a(href="javascript:void(0);" ng-click="eventSearch.terms = linguagem") {{linguagem}}
			input(type="text" ng-model="eventSearch.$" placeholder="Digite uma busca...")
			a.close.entypo(href="javascript:void(0)" ng-click="eventSearch = {}" ng-show="isEventFiltering()" title="Fechar") &#10060;
	section#event-list.main-content
		section.event-results(ng-show="isEventFiltering()")
			ul.event-list.clearfix
				li(ng-repeat="event in (filteredEvents = (events | filter:eventSearch:strict)) | offset: eventNav.perPage * eventNav.curPage | limitTo: eventNav.perPage")
					include partials/event-list-item
			nav
				a(ng-click="eventNav.nextPage()") proxima
				a(ng-click="eventNav.prevPage()") anterior
		article#highlight-event(ng-show="featured")
			h2 Agora na sua região
			.image(style="background-image:url(http://lorempixum.com/1920/500/)")
			.highlight-content
				header
					h3
						a(href="/eventos/{{featured.id}}/") {{featured.name}}
				section.meta.clearfix
					p.time
						span.entypo &#128340;
						| {{featured.fromNow}}
					p.distance
						span.entypo &#59172;
						strong {{featured.space.kmDistance}} km 
						| de você
				section.content
					p.description {{featured.shortDescription}}
			aside.space
				h3 {{featured.space.name}}
		#linguagens
			h2 Navegue pelas linguagens
			ul.linguagem-list.clearfix
				li(ng-repeat="linguagem in linguagens")
					a(href="javascript:void(0);" ng-click="eventSearch.terms = linguagem") {{linguagem}}
		#spaces.clearfix
			header.spaces-header
				h2 Navegue pelos espaços
				input(type="text" ng-model="spaceSearch.name" placeholder="Busque por um espaço...")
			ul.space-list.clearfix
				li(ng-repeat="space in (filteredSpaces = (spaces | filter:spaceSearch:strict)) | orderBy: '_distance' | offset: spaceNav.perPage * spaceNav.curPage | limitTo: spaceNav.perPage")
					article.space
						header
							h3 {{space.name}}
							p.distance(ng-show="space._distance && space._distance < 60000")
								strong {{space.kmDistance}} km 
								| de você
			nav
				a(ng-click="spaceNav.nextPage()") proxima
				a(ng-click="spaceNav.prevPage()") anterior

		//
			ul#spaces
				li.space(ng-repeat="space in spaces | orderBy:'_distance'" ng-show="space.filteredEvents.length")
					h2 {{space.name}}
					p(ng-show="space._distance && space._distance < 60000")
						strong {{space.kmDistance}} km 
						| de você
					ul.space-events
						li.event(ng-repeat="event in (space.filteredEvents = (space.events | filter:search))")
							h3
								a(href="/eventos/{{event.id}}/") {{event.name}}
							p(ng-show="showFromNow(event)") {{service.getEventMoment(event).from(service.getToday())}}